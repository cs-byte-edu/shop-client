import{r as t,j as r,h as ot,d as rt}from"./index-yzz_AnOp.js";import nt from"./ProductsGrid-v3JQJLcQ.js";import{F as st}from"./ChevronDownIcon-RhlXC3Ya.js";import{P as _,u as lt,i as be,c as at,b as Te,a as ct,f as k,d as E,j as z,r as Ne,g as it}from"./index-Cjb4D2gD.js";import{c as Re,R as dt,A as ut,P as pt,h as ft,u as ht,a as mt,F as gt,D as vt,C as xt,b as St}from"./index-g_bR3u8a.js";import{u as wt}from"./index-CmVdnEpq.js";import"./ProductCartActions-C3EGOTwU.js";import"./ShoppingCartIcon-CI4Kysoj.js";import"./ProductInfo-DqjHyFwX.js";import"./HeartIcon-CeIViMIw.js";function yt({title:o,titleId:n,...e},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),o?t.createElement("title",{id:n},o):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const Ct=t.forwardRef(yt);var _e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),It="VisuallyHidden",Tt=t.forwardRef((o,n)=>r.jsx(_.span,{...o,ref:n,style:{..._e,...o.style}}));Tt.displayName=It;function Pt(o){const n=t.useRef({value:o,previous:o});return t.useMemo(()=>(n.current.value!==o&&(n.current.previous=n.current.value,n.current.value=o),n.current.previous),[o])}function Ee(o,[n,e]){return Math.min(e,Math.max(n,o))}var bt=[" ","Enter","ArrowUp","ArrowDown"],Et=[" ","Enter"],Q="Select",[ce,ie,Nt]=ct(Q),[te,go]=at(Q,[Nt,Re]),de=Re(),[Rt,Y]=te(Q),[_t,jt]=te(Q),je=o=>{const{__scopeSelect:n,children:e,open:i,defaultOpen:c,onOpenChange:u,value:a,defaultValue:s,onValueChange:l,dir:p,name:v,autoComplete:x,disabled:b,required:P,form:I}=o,d=de(n),[h,y]=t.useState(null),[f,g]=t.useState(null),[M,A]=t.useState(!1),oe=lt(p),[N,D]=be({prop:i,defaultProp:c??!1,onChange:u,caller:Q}),[W,q]=be({prop:a,defaultProp:s,onChange:l,caller:Q}),V=t.useRef(null),B=h?I||!!h.closest("form"):!0,[K,H]=t.useState(new Set),F=Array.from(K).map(R=>R.props.value).join(";");return r.jsx(dt,{...d,children:r.jsxs(Rt,{required:P,scope:n,trigger:h,onTriggerChange:y,valueNode:f,onValueNodeChange:g,valueNodeHasChildren:M,onValueNodeHasChildrenChange:A,contentId:Te(),value:W,onValueChange:q,open:N,onOpenChange:D,dir:oe,triggerPointerDownPosRef:V,disabled:b,children:[r.jsx(ce.Provider,{scope:n,children:r.jsx(_t,{scope:o.__scopeSelect,onNativeOptionAdd:t.useCallback(R=>{H(L=>new Set(L).add(R))},[]),onNativeOptionRemove:t.useCallback(R=>{H(L=>{const U=new Set(L);return U.delete(R),U})},[]),children:e})}),B?r.jsxs(Qe,{"aria-hidden":!0,required:P,tabIndex:-1,name:v,autoComplete:x,value:W,onChange:R=>q(R.target.value),disabled:b,form:I,children:[W===void 0?r.jsx("option",{value:""}):null,Array.from(K)]},F):null]})})};je.displayName=Q;var Me="SelectTrigger",Ae=t.forwardRef((o,n)=>{const{__scopeSelect:e,disabled:i=!1,...c}=o,u=de(e),a=Y(Me,e),s=a.disabled||i,l=k(n,a.onTriggerChange),p=ie(e),v=t.useRef("touch"),[x,b,P]=et(d=>{const h=p().filter(g=>!g.disabled),y=h.find(g=>g.value===a.value),f=tt(h,d,y);f!==void 0&&a.onValueChange(f.value)}),I=d=>{s||(a.onOpenChange(!0),P()),d&&(a.triggerPointerDownPosRef.current={x:Math.round(d.pageX),y:Math.round(d.pageY)})};return r.jsx(ut,{asChild:!0,...u,children:r.jsx(_.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Je(a.value)?"":void 0,...c,ref:l,onClick:E(c.onClick,d=>{d.currentTarget.focus(),v.current!=="mouse"&&I(d)}),onPointerDown:E(c.onPointerDown,d=>{v.current=d.pointerType;const h=d.target;h.hasPointerCapture(d.pointerId)&&h.releasePointerCapture(d.pointerId),d.button===0&&d.ctrlKey===!1&&d.pointerType==="mouse"&&(I(d),d.preventDefault())}),onKeyDown:E(c.onKeyDown,d=>{const h=x.current!=="";!(d.ctrlKey||d.altKey||d.metaKey)&&d.key.length===1&&b(d.key),!(h&&d.key===" ")&&bt.includes(d.key)&&(I(),d.preventDefault())})})})});Ae.displayName=Me;var Oe="SelectValue",De=t.forwardRef((o,n)=>{const{__scopeSelect:e,className:i,style:c,children:u,placeholder:a="",...s}=o,l=Y(Oe,e),{onValueNodeHasChildrenChange:p}=l,v=u!==void 0,x=k(n,l.onValueNodeChange);return z(()=>{p(v)},[p,v]),r.jsx(_.span,{...s,ref:x,style:{pointerEvents:"none"},children:Je(l.value)?r.jsx(r.Fragment,{children:a}):u})});De.displayName=Oe;var Mt="SelectIcon",Le=t.forwardRef((o,n)=>{const{__scopeSelect:e,children:i,...c}=o;return r.jsx(_.span,{"aria-hidden":!0,...c,ref:n,children:i||"â–¼"})});Le.displayName=Mt;var At="SelectPortal",ke=o=>r.jsx(pt,{asChild:!0,...o});ke.displayName=At;var J="SelectContent",Ve=t.forwardRef((o,n)=>{const e=Y(J,o.__scopeSelect),[i,c]=t.useState();if(z(()=>{c(new DocumentFragment)},[]),!e.open){const u=i;return u?Ne.createPortal(r.jsx(Be,{scope:o.__scopeSelect,children:r.jsx(ce.Slot,{scope:o.__scopeSelect,children:r.jsx("div",{children:o.children})})}),u):null}return r.jsx(He,{...o,ref:n})});Ve.displayName=J;var O=10,[Be,$]=te(J),Ot="SelectContentImpl",Dt=it("SelectContent.RemoveScroll"),He=t.forwardRef((o,n)=>{const{__scopeSelect:e,position:i="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:a,side:s,sideOffset:l,align:p,alignOffset:v,arrowPadding:x,collisionBoundary:b,collisionPadding:P,sticky:I,hideWhenDetached:d,avoidCollisions:h,...y}=o,f=Y(J,e),[g,M]=t.useState(null),[A,oe]=t.useState(null),N=k(n,m=>M(m)),[D,W]=t.useState(null),[q,V]=t.useState(null),B=ie(e),[K,H]=t.useState(!1),F=t.useRef(!1);t.useEffect(()=>{if(g)return ft(g)},[g]),ht();const R=t.useCallback(m=>{const[T,...j]=B().map(w=>w.ref.current),[C]=j.slice(-1),S=document.activeElement;for(const w of m)if(w===S||(w==null||w.scrollIntoView({block:"nearest"}),w===T&&A&&(A.scrollTop=0),w===C&&A&&(A.scrollTop=A.scrollHeight),w==null||w.focus(),document.activeElement!==S))return},[B,A]),L=t.useCallback(()=>R([D,g]),[R,D,g]);t.useEffect(()=>{K&&L()},[K,L]);const{onOpenChange:U,triggerPointerDownPosRef:G}=f;t.useEffect(()=>{if(g){let m={x:0,y:0};const T=C=>{var S,w;m={x:Math.abs(Math.round(C.pageX)-(((S=G.current)==null?void 0:S.x)??0)),y:Math.abs(Math.round(C.pageY)-(((w=G.current)==null?void 0:w.y)??0))}},j=C=>{m.x<=10&&m.y<=10?C.preventDefault():g.contains(C.target)||U(!1),document.removeEventListener("pointermove",T),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",j,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",j,{capture:!0})}}},[g,U,G]),t.useEffect(()=>{const m=()=>U(!1);return window.addEventListener("blur",m),window.addEventListener("resize",m),()=>{window.removeEventListener("blur",m),window.removeEventListener("resize",m)}},[U]);const[ue,se]=et(m=>{const T=B().filter(S=>!S.disabled),j=T.find(S=>S.ref.current===document.activeElement),C=tt(T,m,j);C&&setTimeout(()=>C.ref.current.focus())}),pe=t.useCallback((m,T,j)=>{const C=!F.current&&!j;(f.value!==void 0&&f.value===T||C)&&(W(m),C&&(F.current=!0))},[f.value]),fe=t.useCallback(()=>g==null?void 0:g.focus(),[g]),ee=t.useCallback((m,T,j)=>{const C=!F.current&&!j;(f.value!==void 0&&f.value===T||C)&&V(m)},[f.value]),le=i==="popper"?Se:Fe,re=le===Se?{side:s,sideOffset:l,align:p,alignOffset:v,arrowPadding:x,collisionBoundary:b,collisionPadding:P,sticky:I,hideWhenDetached:d,avoidCollisions:h}:{};return r.jsx(Be,{scope:e,content:g,viewport:A,onViewportChange:oe,itemRefCallback:pe,selectedItem:D,onItemLeave:fe,itemTextRefCallback:ee,focusSelectedItem:L,selectedItemText:q,position:i,isPositioned:K,searchRef:ue,children:r.jsx(mt,{as:Dt,allowPinchZoom:!0,children:r.jsx(gt,{asChild:!0,trapped:f.open,onMountAutoFocus:m=>{m.preventDefault()},onUnmountAutoFocus:E(c,m=>{var T;(T=f.trigger)==null||T.focus({preventScroll:!0}),m.preventDefault()}),children:r.jsx(vt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:r.jsx(le,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:m=>m.preventDefault(),...y,...re,onPlaced:()=>H(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:E(y.onKeyDown,m=>{const T=m.ctrlKey||m.altKey||m.metaKey;if(m.key==="Tab"&&m.preventDefault(),!T&&m.key.length===1&&se(m.key),["ArrowUp","ArrowDown","Home","End"].includes(m.key)){let C=B().filter(S=>!S.disabled).map(S=>S.ref.current);if(["ArrowUp","End"].includes(m.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(m.key)){const S=m.target,w=C.indexOf(S);C=C.slice(w+1)}setTimeout(()=>R(C)),m.preventDefault()}})})})})})})});He.displayName=Ot;var Lt="SelectItemAlignedPosition",Fe=t.forwardRef((o,n)=>{const{__scopeSelect:e,onPlaced:i,...c}=o,u=Y(J,e),a=$(J,e),[s,l]=t.useState(null),[p,v]=t.useState(null),x=k(n,N=>v(N)),b=ie(e),P=t.useRef(!1),I=t.useRef(!0),{viewport:d,selectedItem:h,selectedItemText:y,focusSelectedItem:f}=a,g=t.useCallback(()=>{if(u.trigger&&u.valueNode&&s&&p&&d&&h&&y){const N=u.trigger.getBoundingClientRect(),D=p.getBoundingClientRect(),W=u.valueNode.getBoundingClientRect(),q=y.getBoundingClientRect();if(u.dir!=="rtl"){const S=q.left-D.left,w=W.left-S,X=N.left-w,Z=N.width+X,he=Math.max(Z,D.width),me=window.innerWidth-O,ge=Ee(w,[O,Math.max(O,me-he)]);s.style.minWidth=Z+"px",s.style.left=ge+"px"}else{const S=D.right-q.right,w=window.innerWidth-W.right-S,X=window.innerWidth-N.right-w,Z=N.width+X,he=Math.max(Z,D.width),me=window.innerWidth-O,ge=Ee(w,[O,Math.max(O,me-he)]);s.style.minWidth=Z+"px",s.style.right=ge+"px"}const V=b(),B=window.innerHeight-O*2,K=d.scrollHeight,H=window.getComputedStyle(p),F=parseInt(H.borderTopWidth,10),R=parseInt(H.paddingTop,10),L=parseInt(H.borderBottomWidth,10),U=parseInt(H.paddingBottom,10),G=F+R+K+U+L,ue=Math.min(h.offsetHeight*5,G),se=window.getComputedStyle(d),pe=parseInt(se.paddingTop,10),fe=parseInt(se.paddingBottom,10),ee=N.top+N.height/2-O,le=B-ee,re=h.offsetHeight/2,m=h.offsetTop+re,T=F+R+m,j=G-T;if(T<=ee){const S=V.length>0&&h===V[V.length-1].ref.current;s.style.bottom="0px";const w=p.clientHeight-d.offsetTop-d.offsetHeight,X=Math.max(le,re+(S?fe:0)+w+L),Z=T+X;s.style.height=Z+"px"}else{const S=V.length>0&&h===V[0].ref.current;s.style.top="0px";const X=Math.max(ee,F+d.offsetTop+(S?pe:0)+re)+j;s.style.height=X+"px",d.scrollTop=T-ee+d.offsetTop}s.style.margin=`${O}px 0`,s.style.minHeight=ue+"px",s.style.maxHeight=B+"px",i==null||i(),requestAnimationFrame(()=>P.current=!0)}},[b,u.trigger,u.valueNode,s,p,d,h,y,u.dir,i]);z(()=>g(),[g]);const[M,A]=t.useState();z(()=>{p&&A(window.getComputedStyle(p).zIndex)},[p]);const oe=t.useCallback(N=>{N&&I.current===!0&&(g(),f==null||f(),I.current=!1)},[g,f]);return r.jsx(Vt,{scope:e,contentWrapper:s,shouldExpandOnScrollRef:P,onScrollButtonChange:oe,children:r.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:r.jsx(_.div,{...c,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});Fe.displayName=Lt;var kt="SelectPopperPosition",Se=t.forwardRef((o,n)=>{const{__scopeSelect:e,align:i="start",collisionPadding:c=O,...u}=o,a=de(e);return r.jsx(xt,{...a,...u,ref:n,align:i,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Se.displayName=kt;var[Vt,Pe]=te(J,{}),we="SelectViewport",Ue=t.forwardRef((o,n)=>{const{__scopeSelect:e,nonce:i,...c}=o,u=$(we,e),a=Pe(we,e),s=k(n,u.onViewportChange),l=t.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(ce.Slot,{scope:e,children:r.jsx(_.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:E(c.onScroll,p=>{const v=p.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:b}=a;if(b!=null&&b.current&&x){const P=Math.abs(l.current-v.scrollTop);if(P>0){const I=window.innerHeight-O*2,d=parseFloat(x.style.minHeight),h=parseFloat(x.style.height),y=Math.max(d,h);if(y<I){const f=y+P,g=Math.min(I,f),M=f-g;x.style.height=g+"px",x.style.bottom==="0px"&&(v.scrollTop=M>0?M:0,x.style.justifyContent="flex-end")}}}l.current=v.scrollTop})})})]})});Ue.displayName=we;var We="SelectGroup",[Bt,Ht]=te(We),Ke=t.forwardRef((o,n)=>{const{__scopeSelect:e,...i}=o,c=Te();return r.jsx(Bt,{scope:e,id:c,children:r.jsx(_.div,{role:"group","aria-labelledby":c,...i,ref:n})})});Ke.displayName=We;var Ge="SelectLabel",Ft=t.forwardRef((o,n)=>{const{__scopeSelect:e,...i}=o,c=Ht(Ge,e);return r.jsx(_.div,{id:c.id,...i,ref:n})});Ft.displayName=Ge;var ae="SelectItem",[Ut,ze]=te(ae),Ye=t.forwardRef((o,n)=>{const{__scopeSelect:e,value:i,disabled:c=!1,textValue:u,...a}=o,s=Y(ae,e),l=$(ae,e),p=s.value===i,[v,x]=t.useState(u??""),[b,P]=t.useState(!1),I=k(n,f=>{var g;return(g=l.itemRefCallback)==null?void 0:g.call(l,f,i,c)}),d=Te(),h=t.useRef("touch"),y=()=>{c||(s.onValueChange(i),s.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Ut,{scope:e,value:i,disabled:c,textId:d,isSelected:p,onItemTextChange:t.useCallback(f=>{x(g=>g||((f==null?void 0:f.textContent)??"").trim())},[]),children:r.jsx(ce.ItemSlot,{scope:e,value:i,disabled:c,textValue:v,children:r.jsx(_.div,{role:"option","aria-labelledby":d,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...a,ref:I,onFocus:E(a.onFocus,()=>P(!0)),onBlur:E(a.onBlur,()=>P(!1)),onClick:E(a.onClick,()=>{h.current!=="mouse"&&y()}),onPointerUp:E(a.onPointerUp,()=>{h.current==="mouse"&&y()}),onPointerDown:E(a.onPointerDown,f=>{h.current=f.pointerType}),onPointerMove:E(a.onPointerMove,f=>{var g;h.current=f.pointerType,c?(g=l.onItemLeave)==null||g.call(l):h.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:E(a.onPointerLeave,f=>{var g;f.currentTarget===document.activeElement&&((g=l.onItemLeave)==null||g.call(l))}),onKeyDown:E(a.onKeyDown,f=>{var M;((M=l.searchRef)==null?void 0:M.current)!==""&&f.key===" "||(Et.includes(f.key)&&y(),f.key===" "&&f.preventDefault())})})})})});Ye.displayName=ae;var ne="SelectItemText",$e=t.forwardRef((o,n)=>{const{__scopeSelect:e,className:i,style:c,...u}=o,a=Y(ne,e),s=$(ne,e),l=ze(ne,e),p=jt(ne,e),[v,x]=t.useState(null),b=k(n,y=>x(y),l.onItemTextChange,y=>{var f;return(f=s.itemTextRefCallback)==null?void 0:f.call(s,y,l.value,l.disabled)}),P=v==null?void 0:v.textContent,I=t.useMemo(()=>r.jsx("option",{value:l.value,disabled:l.disabled,children:P},l.value),[l.disabled,l.value,P]),{onNativeOptionAdd:d,onNativeOptionRemove:h}=p;return z(()=>(d(I),()=>h(I)),[d,h,I]),r.jsxs(r.Fragment,{children:[r.jsx(_.span,{id:l.textId,...u,ref:b}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ne.createPortal(u.children,a.valueNode):null]})});$e.displayName=ne;var qe="SelectItemIndicator",Wt=t.forwardRef((o,n)=>{const{__scopeSelect:e,...i}=o;return ze(qe,e).isSelected?r.jsx(_.span,{"aria-hidden":!0,...i,ref:n}):null});Wt.displayName=qe;var ye="SelectScrollUpButton",Xe=t.forwardRef((o,n)=>{const e=$(ye,o.__scopeSelect),i=Pe(ye,o.__scopeSelect),[c,u]=t.useState(!1),a=k(n,i.onScrollButtonChange);return z(()=>{if(e.viewport&&e.isPositioned){let s=function(){const p=l.scrollTop>0;u(p)};const l=e.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[e.viewport,e.isPositioned]),c?r.jsx(Ze,{...o,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=e;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});Xe.displayName=ye;var Ce="SelectScrollDownButton",Kt=t.forwardRef((o,n)=>{const e=$(Ce,o.__scopeSelect),i=Pe(Ce,o.__scopeSelect),[c,u]=t.useState(!1),a=k(n,i.onScrollButtonChange);return z(()=>{if(e.viewport&&e.isPositioned){let s=function(){const p=l.scrollHeight-l.clientHeight,v=Math.ceil(l.scrollTop)<p;u(v)};const l=e.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[e.viewport,e.isPositioned]),c?r.jsx(Ze,{...o,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=e;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});Kt.displayName=Ce;var Ze=t.forwardRef((o,n)=>{const{__scopeSelect:e,onAutoScroll:i,...c}=o,u=$("SelectScrollButton",e),a=t.useRef(null),s=ie(e),l=t.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return t.useEffect(()=>()=>l(),[l]),z(()=>{var v;const p=s().find(x=>x.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[s]),r.jsx(_.div,{"aria-hidden":!0,...c,ref:n,style:{flexShrink:0,...c.style},onPointerDown:E(c.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(i,50))}),onPointerMove:E(c.onPointerMove,()=>{var p;(p=u.onItemLeave)==null||p.call(u),a.current===null&&(a.current=window.setInterval(i,50))}),onPointerLeave:E(c.onPointerLeave,()=>{l()})})}),Gt="SelectSeparator",zt=t.forwardRef((o,n)=>{const{__scopeSelect:e,...i}=o;return r.jsx(_.div,{"aria-hidden":!0,...i,ref:n})});zt.displayName=Gt;var Ie="SelectArrow",Yt=t.forwardRef((o,n)=>{const{__scopeSelect:e,...i}=o,c=de(e),u=Y(Ie,e),a=$(Ie,e);return u.open&&a.position==="popper"?r.jsx(St,{...c,...i,ref:n}):null});Yt.displayName=Ie;var $t="SelectBubbleInput",Qe=t.forwardRef(({__scopeSelect:o,value:n,...e},i)=>{const c=t.useRef(null),u=k(i,c),a=Pt(n);return t.useEffect(()=>{const s=c.current;if(!s)return;const l=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&v){const x=new Event("change",{bubbles:!0});v.call(s,n),s.dispatchEvent(x)}},[a,n]),r.jsx(_.select,{...e,style:{..._e,...e.style},ref:u,defaultValue:n})});Qe.displayName=$t;function Je(o){return o===""||o===void 0}function et(o){const n=wt(o),e=t.useRef(""),i=t.useRef(0),c=t.useCallback(a=>{const s=e.current+a;n(s),function l(p){e.current=p,window.clearTimeout(i.current),p!==""&&(i.current=window.setTimeout(()=>l(""),1e3))}(s)},[n]),u=t.useCallback(()=>{e.current="",window.clearTimeout(i.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(i.current),[]),[e,c,u]}function tt(o,n,e){const c=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,u=e?o.indexOf(e):-1;let a=qt(o,Math.max(u,0));c.length===1&&(a=a.filter(p=>p!==e));const l=a.find(p=>p.textValue.toLowerCase().startsWith(c.toLowerCase()));return l!==e?l:void 0}function qt(o,n){return o.map((e,i)=>o[(n+i)%o.length])}var Xt=je,Zt=Ae,Qt=De,Jt=Le,eo=ke,to=Ve,oo=Ue,ro=Ke,ve=Ye,xe=$e,no=Xe;const vo=t.memo(()=>{const{id:o}=ot(),{products:n,loading:e,error:i,loadProducts:c,categories:u,loadCategories:a,filters:s,updateFilters:l,pagination:p}=rt(),[v,x]=t.useState("grid"),[b,P]=t.useState(null);console.log("categoryId ",o),t.useEffect(()=>{a()},[a]),t.useEffect(()=>{u.length>0?(P(o),l({category:o})):(P(null),l({category:null}))},[o,u,l]);const I=v==="grid"?"grid [grid-template-columns:repeat(auto-fit,minmax(320px,1fr))] gap-[20px]":"flex flex-col gap-[20px]";t.useEffect(()=>{const h=new URLSearchParams;s.sort&&h.set("sort",s.sort),s.category&&h.set("filters[category_main][slug][$eq]",s.category),s.search&&h.set("filters[name][$containsi]",s.search),h.set("populate","image"),console.log("QUERY: ",h.toString()),c(h)},[c,s,p.page,p.limit,o]);const d=h=>{l({...h,page:1})};return e&&n.length===0?r.jsx("div",{className:"container mx-auto py-8",children:"LOADING..."}):r.jsxs("div",{className:"container mx-auto py-8",children:[i&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:i}),r.jsxs("div",{className:"flex gap-[32px]",children:[r.jsxs(Xt,{value:s.sort,onValueChange:h=>d({sort:h}),children:[r.jsxs(Zt,{className:"SelectTrigger","aria-label":"Sort",children:[r.jsx(Qt,{placeholder:"Sort By"}),r.jsx(Jt,{className:"SelectIcon",children:r.jsx(st,{className:"size-3.5"})})]}),r.jsx(eo,{children:r.jsxs(to,{className:"SelectContent",children:[r.jsx(no,{className:"SelectScrollButton",children:r.jsx(Ct,{className:"size-3.5"})}),r.jsx(oo,{className:"SelectViewport",children:r.jsxs(ro,{children:[r.jsx(ve,{value:"final_price:asc",children:r.jsx(xe,{children:"Price: Low to High"})}),r.jsx(ve,{value:"final_price:desc",children:r.jsx(xe,{children:"Price: High to Low"})}),r.jsx(ve,{value:"createdAt:desc",children:r.jsx(xe,{children:"Newest First"})})]})})]})})]}),r.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[r.jsx("button",{onClick:()=>x("grid"),className:`px-4 py-2 ${v==="grid"?"bg-green-500 text-white":"bg-white text-gray-700"}`,children:"Grid"}),r.jsx("button",{onClick:()=>x("list"),className:`px-4 py-2 ${v==="list"?"bg-green-500 text-white":"bg-white text-gray-700"}`,children:"List"})]})]}),r.jsx(nt,{data:n.data,productsGridClass:I})]})});export{vo as PageCatalog,vo as default};
