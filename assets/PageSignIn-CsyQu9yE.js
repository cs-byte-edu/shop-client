import{a as u,u as h,r as g,j as s,L as x}from"./index-BrJXPy__.js";import{u as p,F as l}from"./FromField-CuWvWKj3.js";const o={required:(a="Це поле обов'язkove")=>e=>e!=null&&e.toString().trim()?"":a,email:(a="Невірний формат email")=>e=>e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?a:"",minLength:(a,e)=>t=>{const n=e||`Мінімум ${a} символів`;return t&&t.length<a?n:""}},j=()=>{const{login:a,loading:e,error:t,clearError:n}=u(),d=h(),i={email:[o.required(),o.email()],password:[o.required(),o.minLength(6)]},r=p({email:"",password:""},i),c=async m=>{m.preventDefault(),r.validate()&&(await a(r.values)).success&&d("/dashboard")};return g.useEffect(()=>()=>n(),[n]),s.jsx("form",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12",children:s.jsxs("div",{className:"max-w-md w-full mx-auto p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Вхід в систему"}),t&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:t}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(l,{name:"email",type:"email",placeholder:"Email (test@test.com)",value:r.values.email,error:r.errors.email,touched:r.touched.email,onChange:r.handleChange,onBlur:r.handleBlur,disabled:e}),s.jsx(l,{name:"password",type:"password",placeholder:"Пароль (password)",value:r.values.password,error:r.errors.password,touched:r.touched.password,onChange:r.handleChange,onBlur:r.handleBlur,disabled:e}),s.jsx("button",{onClick:c,disabled:e,className:"w-full bg-green-400 hover:bg-green-500 disabled:bg-green-300 disabled:cursor-not-allowed px-5 py-3 text-white rounded transition-colors",children:e?"Вхід...":"Увійти"})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx(x,{to:"/register",className:"text-green-500 hover:text-green-600 underline",children:"Ще немає акаунту? Зареєструватись"})})]})})};export{j as default};
