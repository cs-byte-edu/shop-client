import{r as f,j as o,R as u,d as de,L as pe,O as ue}from"./index-BrJXPy__.js";import{F as fe}from"./ChevronDownIcon-qL3frmLl.js";import{c as B,i as k,b as z,P as R,d as U,f as q,j as me,a as xe,u as ge}from"./index-B3vkFub7.js";import{P as ve}from"./index-CWjmKVjF.js";var P="Collapsible",[Ce,Y]=B(P),[he,D]=Ce(P),J=f.forwardRef((e,s)=>{const{__scopeCollapsible:n,open:r,defaultOpen:t,disabled:a,onOpenChange:c,...l}=e,[i,p]=k({prop:r,defaultProp:t??!1,onChange:c,caller:P});return o.jsx(he,{scope:n,disabled:a,contentId:z(),open:i,onOpenToggle:f.useCallback(()=>p(m=>!m),[p]),children:o.jsx(R.div,{"data-state":L(i),"data-disabled":a?"":void 0,...l,ref:s})})});J.displayName=P;var Q="CollapsibleTrigger",W=f.forwardRef((e,s)=>{const{__scopeCollapsible:n,...r}=e,t=D(Q,n);return o.jsx(R.button,{type:"button","aria-controls":t.contentId,"aria-expanded":t.open||!1,"data-state":L(t.open),"data-disabled":t.disabled?"":void 0,disabled:t.disabled,...r,ref:s,onClick:U(e.onClick,t.onOpenToggle)})});W.displayName=Q;var M="CollapsibleContent",X=f.forwardRef((e,s)=>{const{forceMount:n,...r}=e,t=D(M,e.__scopeCollapsible);return o.jsx(ve,{present:n||t.open,children:({present:a})=>o.jsx(be,{...r,ref:s,present:a})})});X.displayName=M;var be=f.forwardRef((e,s)=>{const{__scopeCollapsible:n,present:r,children:t,...a}=e,c=D(M,n),[l,i]=f.useState(r),p=f.useRef(null),m=q(s,p),x=f.useRef(0),A=x.current,v=f.useRef(0),j=v.current,C=c.open||l,h=f.useRef(C),b=f.useRef(void 0);return f.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),me(()=>{const d=p.current;if(d){b.current=b.current||{transitionDuration:d.style.transitionDuration,animationName:d.style.animationName},d.style.transitionDuration="0s",d.style.animationName="none";const I=d.getBoundingClientRect();x.current=I.height,v.current=I.width,h.current||(d.style.transitionDuration=b.current.transitionDuration,d.style.animationName=b.current.animationName),i(r)}},[c.open,r]),o.jsx(R.div,{"data-state":L(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!C,...a,ref:m,style:{"--radix-collapsible-content-height":A?`${A}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:C&&t})});function L(e){return e?"open":"closed"}var Ae=J,Ie=W,Re=X,g="Accordion",je=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[V,Ne,Pe]=xe(g),[_,Ke]=B(g,[Pe,Y]),F=Y(),Z=u.forwardRef((e,s)=>{const{type:n,...r}=e,t=r,a=r;return o.jsx(V.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?o.jsx(Ee,{...a,ref:s}):o.jsx(ye,{...t,ref:s})})});Z.displayName=g;var[ee,_e]=_(g),[oe,we]=_(g,{collapsible:!1}),ye=u.forwardRef((e,s)=>{const{value:n,defaultValue:r,onValueChange:t=()=>{},collapsible:a=!1,...c}=e,[l,i]=k({prop:n,defaultProp:r??"",onChange:t,caller:g});return o.jsx(ee,{scope:e.__scopeAccordion,value:u.useMemo(()=>l?[l]:[],[l]),onItemOpen:i,onItemClose:u.useCallback(()=>a&&i(""),[a,i]),children:o.jsx(oe,{scope:e.__scopeAccordion,collapsible:a,children:o.jsx(ne,{...c,ref:s})})})}),Ee=u.forwardRef((e,s)=>{const{value:n,defaultValue:r,onValueChange:t=()=>{},...a}=e,[c,l]=k({prop:n,defaultProp:r??[],onChange:t,caller:g}),i=u.useCallback(m=>l((x=[])=>[...x,m]),[l]),p=u.useCallback(m=>l((x=[])=>x.filter(A=>A!==m)),[l]);return o.jsx(ee,{scope:e.__scopeAccordion,value:c,onItemOpen:i,onItemClose:p,children:o.jsx(oe,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(ne,{...a,ref:s})})})}),[Te,w]=_(g),ne=u.forwardRef((e,s)=>{const{__scopeAccordion:n,disabled:r,dir:t,orientation:a="vertical",...c}=e,l=u.useRef(null),i=q(l,s),p=Ne(n),x=ge(t)==="ltr",A=U(e.onKeyDown,v=>{var H;if(!je.includes(v.key))return;const j=v.target,C=p().filter(O=>{var G;return!((G=O.ref.current)!=null&&G.disabled)}),h=C.findIndex(O=>O.ref.current===j),b=C.length;if(h===-1)return;v.preventDefault();let d=h;const I=0,y=b-1,E=()=>{d=h+1,d>y&&(d=I)},T=()=>{d=h-1,d<I&&(d=y)};switch(v.key){case"Home":d=I;break;case"End":d=y;break;case"ArrowRight":a==="horizontal"&&(x?E():T());break;case"ArrowDown":a==="vertical"&&E();break;case"ArrowLeft":a==="horizontal"&&(x?T():E());break;case"ArrowUp":a==="vertical"&&T();break}const le=d%b;(H=C[le].ref.current)==null||H.focus()});return o.jsx(Te,{scope:n,disabled:r,direction:t,orientation:a,children:o.jsx(V.Slot,{scope:n,children:o.jsx(R.div,{...c,"data-orientation":a,ref:i,onKeyDown:r?void 0:A})})})}),N="AccordionItem",[Oe,$]=_(N),te=u.forwardRef((e,s)=>{const{__scopeAccordion:n,value:r,...t}=e,a=w(N,n),c=_e(N,n),l=F(n),i=z(),p=r&&c.value.includes(r)||!1,m=a.disabled||e.disabled;return o.jsx(Oe,{scope:n,open:p,disabled:m,triggerId:i,children:o.jsx(Ae,{"data-orientation":a.orientation,"data-state":ie(p),...l,...t,ref:s,disabled:m,open:p,onOpenChange:x=>{x?c.onItemOpen(r):c.onItemClose(r)}})})});te.displayName=N;var re="AccordionHeader",Se=u.forwardRef((e,s)=>{const{__scopeAccordion:n,...r}=e,t=w(g,n),a=$(re,n);return o.jsx(R.h3,{"data-orientation":t.orientation,"data-state":ie(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:s})});Se.displayName=re;var S="AccordionTrigger",ae=u.forwardRef((e,s)=>{const{__scopeAccordion:n,...r}=e,t=w(g,n),a=$(S,n),c=we(S,n),l=F(n);return o.jsx(V.ItemSlot,{scope:n,children:o.jsx(Ie,{"aria-disabled":a.open&&!c.collapsible||void 0,"data-orientation":t.orientation,id:a.triggerId,...l,...r,ref:s})})});ae.displayName=S;var se="AccordionContent",ce=u.forwardRef((e,s)=>{const{__scopeAccordion:n,...r}=e,t=w(g,n),a=$(se,n),c=F(n);return o.jsx(Re,{role:"region","aria-labelledby":a.triggerId,"data-orientation":t.orientation,...c,...r,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});ce.displayName=se;function ie(e){return e?"open":"closed"}var ke=Z,De=te,K=ae,Me=ce;const Le=e=>{const s=new Map;e.forEach(({id:r,name:t,slug:a,parent:c,documentId:l})=>{s.set(r,{name:t,slug:a,documentId:l,parent:c?c.slug:null,children:[]})});const n=[];return e.forEach(({id:r,parent:t})=>{t&&s.has(t.id)?s.get(t.id).children.push(s.get(r)):t||n.push(s.get(r))}),n},Ve=()=>{const{categories:e,updateFilters:s,loadProducts:n,filters:r,pagination:t}=de(),a=Le(e),c=l=>o.jsx(ke,{className:"AccordionRoot",type:"single",defaultValue:"item-1",collapsible:!0,children:l.map((i,p)=>o.jsx(De,{className:"AccordionItem",value:`value-${p}`,children:i.children.length>0?o.jsxs(o.Fragment,{children:[o.jsxs(K,{className:"AccordionTrigger",children:[i.name,o.jsx(fe,{className:"AccordionChevron","aria-hidden":!0})]}),o.jsx(Me,{className:"AccordionContent",children:c(i.children)})]}):o.jsx(K,{className:"AccordionTrigger",children:o.jsx(pe,{to:`catalog/${i.slug}`,onClick:()=>{console.log("IIITEM: ",i),s({category:i.slug})},children:i.name})})},i.documentId))});return o.jsx("aside",{className:"basis-1/4 shrink-0 pl-[16px]",children:o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex flex-col gap-4 mb-6"}),c(a)]})})},Be=()=>o.jsxs("div",{className:"flex",children:[o.jsx(Ve,{}),o.jsx("section",{className:"basis-3/4",children:o.jsx(ue,{})})]});export{Be as LayoutTwoColumn,Be as default};
