import{a as c,u as h,r as g,j as s,L as x}from"./index-D0tBjl-R.js";import{u as p,F as o}from"./FromField-A8t72vK2.js";const t={required:(a="Це поле обов'язkove")=>r=>r!=null&&r.toString().trim()?"":a,email:(a="Невірний формат email")=>r=>r&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?a:"",minLength:(a,r)=>n=>{const l=r||`Мінімум ${a} символів`;return n&&n.length<a?l:""}},j=()=>{const{register:a,loading:r,error:n,clearError:l}=c(),d=h(),i={username:[t.required(),t.minLength(3)],email:[t.required(),t.email()],password:[t.required(),t.minLength(6)]},e=p({username:"",email:"",password:""},i),m=async u=>{u.preventDefault(),e.validate()&&(await a(e.values)).success&&d("/dashboard")};return g.useEffect(()=>()=>l(),[l]),s.jsx("form",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12",children:s.jsxs("div",{className:"max-w-md w-full mx-auto p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Реєстрація"}),n&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:n}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(o,{name:"username",placeholder:"Ім'я користувача",value:e.values.username,error:e.errors.username,touched:e.touched.username,onChange:e.handleChange,onBlur:e.handleBlur,disabled:r}),s.jsx(o,{name:"email",type:"email",placeholder:"Email",value:e.values.email,error:e.errors.email,touched:e.touched.email,onChange:e.handleChange,onBlur:e.handleBlur,disabled:r}),s.jsx(o,{name:"password",type:"password",placeholder:"Пароль",value:e.values.password,error:e.errors.password,touched:e.touched.password,onChange:e.handleChange,onBlur:e.handleBlur,disabled:r}),s.jsx("button",{onClick:m,disabled:r,className:"w-full bg-green-400 hover:bg-green-500 disabled:bg-green-300 disabled:cursor-not-allowed px-5 py-3 text-white rounded transition-colors",children:r?"Реєстрація...":"Зареєструватись"})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx(x,{to:"/signin",className:"text-green-500 hover:text-green-600 underline",children:"Вже є акаунт? Увійти"})})]})})};export{j as default};
